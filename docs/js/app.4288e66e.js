(function(e){function t(t){for(var n,a,o=t[0],i=t[1],s=t[2],p=0,f=[];p<o.length;p++)a=o[p],u[a]&&f.push(u[a][0]),u[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(f.length)f.shift()();return c.push.apply(c,s||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,a=1;a<r.length;a++){var o=r[a];0!==u[o]&&(n=!1)}n&&(c.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},u={app:0},c=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-1425419b":"618dbd5b","chunk-28022fcc":"21064e35","chunk-29228278":"8da67ee8","chunk-2d2077a1":"4e1db4f4","chunk-2d2086b7":"00af0dd3","chunk-2d225fe2":"77fe8bf7","chunk-2d21a3d2":"929dc686","chunk-5a701838":"79f7bc26"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r={"chunk-1425419b":1,"chunk-28022fcc":1,"chunk-29228278":1,"chunk-5a701838":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise(function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-1425419b":"823518e4","chunk-28022fcc":"823518e4","chunk-29228278":"2667a09a","chunk-2d2077a1":"31d6cfe0","chunk-2d2086b7":"31d6cfe0","chunk-2d225fe2":"31d6cfe0","chunk-2d21a3d2":"31d6cfe0","chunk-5a701838":"823518e4"}[e]+".css",u=i.p+n,c=document.getElementsByTagName("link"),o=0;o<c.length;o++){var s=c[o],p=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(p===n||p===u))return t()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){s=f[o],p=s.getAttribute("data-href");if(p===n||p===u)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var n=t&&t.target&&t.target.src||u,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");c.request=n,delete a[e],l.parentNode.removeChild(l),r(c)},l.href=u;var m=document.getElementsByTagName("head")[0];m.appendChild(l)}).then(function(){a[e]=0}));var n=u[e];if(0!==n)if(n)t.push(n[2]);else{var c=new Promise(function(t,r){n=u[e]=[t,r]});t.push(n[2]=c);var s,p=document.createElement("script");p.charset="utf-8",p.timeout=120,i.nc&&p.setAttribute("nonce",i.nc),p.src=o(e),s=function(t){p.onerror=p.onload=null,clearTimeout(f);var r=u[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,c=new Error("Loading chunk "+e+" failed.\n("+n+": "+a+")");c.type=n,c.request=a,r[1](c)}u[e]=void 0}};var f=setTimeout(function(){s({type:"timeout",target:p})},12e4);p.onerror=p.onload=s,document.head.appendChild(p)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/design-saver-proto/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],p=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var l=p;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=r("bb71");r("da64");n["a"].use(a["a"],{iconfont:"md"});var u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-toolbar",{attrs:{app:"",color:"primary",dark:""}},[r("v-toolbar-title",{staticClass:"headline text-uppercase"},[r("span",[e._v("Design ")]),r("span",{staticClass:"font-weight-light"},[e._v("Saver")])]),e.user?r("v-layout",{attrs:{"align-center":"",grow:"","justify-end":""}},[r("v-btn",{attrs:{flat:"",to:"/"}},[e._v("Home")]),r("v-btn",{attrs:{flat:"",to:"/projects"}},[e._v("Projects")]),r("v-btn",{attrs:{flat:"",to:"/images"}},[e._v("Images")]),r("span",[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))])],1):e._e()],1),r("v-content",[r("v-container",[r("router-view")],1)],1)],1)},c=[],o=(r("a481"),{name:"App",computed:{user:function(){return this.$store.getters.user}},created:function(){this.user||this.$router.replace("/login")},mounted:function(){this.$store.dispatch("init")}}),i=o,s=r("2877"),p=r("6544"),f=r.n(p),l=r("7496"),m=r("8336"),d=r("a523"),h=r("549c"),g=r("a722"),v=r("71d9"),b=r("2a7f"),w=Object(s["a"])(i,u,c,!1,null,null,null),j=w.exports;f()(w,{VApp:l["a"],VBtn:m["a"],VContainer:d["a"],VContent:h["a"],VLayout:g["a"],VToolbar:v["a"],VToolbarTitle:b["a"]});var x=r("8c4f");n["a"].use(x["a"]);var k=new x["a"]({mode:"history",base:"/design-saver-proto/",routes:[{path:"/login",name:"login",component:function(){return Promise.all([r.e("chunk-29228278"),r.e("chunk-2d2086b7")]).then(r.bind(null,"a55b"))}},{path:"/",name:"home",component:function(){return r.e("chunk-2d21a3d2").then(r.bind(null,"bb51"))}},{path:"/images",name:"images",component:function(){return r.e("chunk-28022fcc").then(r.bind(null,"ab31"))}},{path:"/images/add/",name:"add-image",component:function(){return Promise.all([r.e("chunk-29228278"),r.e("chunk-2d225fe2")]).then(r.bind(null,"e782"))}},{path:"/images/add/:projectId",name:"add-image-to-project",component:function(){return Promise.all([r.e("chunk-29228278"),r.e("chunk-2d225fe2")]).then(r.bind(null,"e782"))}},{path:"/projects",name:"projects",component:function(){return r.e("chunk-1425419b").then(r.bind(null,"acca"))}},{path:"/projects/create",name:"create-project",component:function(){return Promise.all([r.e("chunk-29228278"),r.e("chunk-2d2077a1")]).then(r.bind(null,"a161"))}},{path:"/projects/:id",name:"view-project",component:function(){return r.e("chunk-5a701838").then(r.bind(null,"07bd"))}}]}),y=(r("6762"),r("2fdb"),r("75fc")),R=(r("96cf"),r("3b8d")),I=r("2f62"),O=(r("ac6a"),r("0a0d")),P=r.n(O),_=r("a002"),N=r.n(_),T=r("c64e"),S=r.n(T);N.a.config({name:"design-saver",version:1,storeName:"design-saver"});var C=function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=null,e.next=3,N.a.getItem("images",function(e,r){e&&console.error(e),t=r});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=!0,e.next=3,N.a.setItem("images",t,function(e){e&&(r=!1)});case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=null,e.next=3,N.a.getItem("imagesProjects",function(e,r){e&&console.error(e),t=r});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=!0,e.next=3,N.a.setItem("imagesProjects",t,function(e){e&&(r=!1)});case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=null,e.next=3,N.a.getItem("projects",function(e,r){e&&console.error(e),t=r});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=!0,e.next=3,N.a.setItem("projects",t,function(e){e&&(r=!1)});case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=null,e.next=3,N.a.getItem("users",function(e,r){e&&console.error(e),t=r});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=!0,e.next=3,N.a.setItem("users",t,function(e){e&&(r=!1)});case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="https://api.cloudinary.com/v1_1/carnold/upload",a="".concat(n,"?file=").concat(r,"&public_id=").concat(t,"&upload_preset=orcbnzny"),u=null,e.next=5,fetch(a,{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){console.log("Request succeeded with JSON response",e),u=e.url}).catch(function(e){console.log("Request failed",e)});case 5:return e.abrupt("return",u);case 6:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),J={addImage:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,u,c,o,i,s,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.projectId,n=t.title,a=t.url,u=S()(),c="design_saver/".concat(u),e.next=5,C();case 5:return o=e.sent,e.next=8,M(c,a);case 8:if(i=e.sent,!r){e.next=12;break}return e.next=12,this.createImageProject({imageId:u,projectId:r});case 12:return console.log(i),s=P()(),p={title:n,imageId:c,created:s,id:u,modified:s},o.push(p),e.next=18,E(o);case 18:return e.abrupt("return",p);case 19:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),createImageProject:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.imageId,n=t.projectId,e.next=3,U();case 3:return a=e.sent,u={imageId:r,projectId:n},a.push(u),e.next=8,V(a);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),createProject:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,u,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.description,n=t.title,a=S()(),e.next=4,A();case 4:return u=e.sent,c=P()(),o={created:c,description:r,id:a,modified:c,title:n},u.push(o),e.next=10,B(u);case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getImages:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:if(t=e.sent,null!==t){e.next=7;break}return t=[],e.next=7,E(t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),getImagesProjects:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:if(t=e.sent,null!==t){e.next=7;break}return t=[],e.next=7,V(t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),getProjects:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:if(t=e.sent,null!==t){e.next=7;break}return t=[],e.next=7,B(t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),getUser:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.password,n=t.username,e.next=3,$();case 3:if(a=e.sent,null!==a){e.next=8;break}return a=[{firstName:"Demo",id:"02c78bba-4430-4ede-abdd-6f851de1055c",lastName:"User",password:"password",username:"demo@agency.com"}],e.next=8,q(a);case 8:if(a.forEach(function(e){e.username===n&&(u=e)}),!u){e.next=12;break}if(u.password!==r){e.next=12;break}return e.abrupt("return",{firstName:u.firstName,id:u.id,lastName:u.lastName,username:u.username});case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},L=J;n["a"].use(I["a"]);var D=new I["a"].Store({state:{images:void 0,projects:void 0,user:void 0,imagesProjects:void 0},actions:{addImage:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.addImage(r);case 2:n=e.sent,t.commit("addImage",n);case 4:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),createProject:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.createProject(r);case 2:n=e.sent,t.commit("createProject",n);case 4:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),getImages:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.getImages();case 2:r=e.sent,t.commit("updateImages",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),init:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.getImages();case 2:return r=e.sent,e.next=5,L.getImagesProjects();case 5:return n=e.sent,e.next=8,L.getProjects();case 8:a=e.sent,t.commit("updateImages",r),t.commit("updateImagesProjects",n),t.commit("updateProjects",a);case 12:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),setUser:function(){var e=Object(R["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.getUser(r);case 2:if(n=e.sent,!n){e.next=8;break}return t.commit("setUser",n),e.abrupt("return",{success:!0});case 8:return e.abrupt("return",{error:"Username or password was incorrect."});case 9:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},mutations:{addImage:function(e,t){e.images.push(t)},createProject:function(e,t){e.projects.push(t)},setUser:function(e,t){e.user=t},updateImages:function(e,t){var r=e.images,n=void 0===r?[]:r;e.images=[].concat(Object(y["a"])(n),Object(y["a"])(t))},updateImagesProjects:function(e,t){var r=e.imagesProjects,n=void 0===r?[]:r;e.imagesProjects=[].concat(Object(y["a"])(n),Object(y["a"])(t))},updateProjects:function(e,t){var r=e.projects,n=void 0===r?[]:r;e.projects=[].concat(Object(y["a"])(n),Object(y["a"])(t))}},getters:{image:function(e){return function(t){return e.images.filter(function(e){return e.id===t})[0]}},images:function(e){return e.images},imagesByProject:function(e){return function(t){var r=e.images,n=e.imagesProjects;console.log("projectId",t),console.log(r,n);var a=n.filter(function(e){return e.projectId===t});console.log(a);var u=a.map(function(e){return e.imageId});return console.log(u),r.filter(function(e){return u.includes(e.id)})}},project:function(e){return function(t){return e.projects.filter(function(e){return e.id===t})[0]}},projects:function(e){return e.projects},user:function(e){return e.user}}});n["a"].config.productionTip=!1,new n["a"]({router:k,store:D,render:function(e){return e(j)}}).$mount("#app")}});
//# sourceMappingURL=app.4288e66e.js.map